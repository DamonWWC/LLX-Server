# ============================================
# 林龍香大米商城 - API服务独立部署环境变量配置
# ============================================
# 说明：此配置文件用于仅部署API服务的场景
# 前提：PostgreSQL和Redis已经在其他地方运行
# 使用：复制此文件为 .env 并修改相应的值

# ============================================
# 应用基础配置
# ============================================

# 应用环境 (Development/Staging/Production)
ASPNETCORE_ENVIRONMENT=Production

# API服务端口（宿主机端口）
API_PORT=8080

# ============================================
# 数据库连接配置（PostgreSQL）
# ============================================

# 数据库连接字符串
# 格式：Host={主机地址};Port={端口};Database={数据库名};Username={用户名};Password={密码};其他选项
# 示例：Host=192.168.1.100;Port=5432;Database=llxrice;Username=llxrice_user;Password=your_password;Pooling=true;Minimum Pool Size=5;Maximum Pool Size=100;Command Timeout=30
DB_CONNECTION_STRING=Host=localhost;Port=5432;Database=llxrice;Username=llxrice_user;Password=your_strong_password_here;Pooling=true;Minimum Pool Size=5;Maximum Pool Size=100;Command Timeout=30

# 数据库提供商（PostgreSQL/SqlServer/MySql）
DB_PROVIDER=PostgreSQL

# 数据库连接池配置
DB_MIN_POOL_SIZE=5
DB_MAX_POOL_SIZE=100
DB_CONNECTION_LIFETIME=300
DB_COMMAND_TIMEOUT=30
DB_ENABLE_RETRY=true
DB_MAX_RETRY_COUNT=3

# ============================================
# Redis缓存连接配置
# ============================================

# Redis连接字符串
# 格式：{主机}:{端口},password={密码},ssl={是否SSL},abortConnect=false
# 示例：192.168.1.100:6379,password=your_redis_password,ssl=false,abortConnect=false
REDIS_CONNECTION_STRING=localhost:6379,password=your_redis_password_here,ssl=false,abortConnect=false

# ============================================
# 性能配置
# ============================================

# 慢请求阈值（毫秒）
PERFORMANCE_SLOW_REQUEST_THRESHOLD=1000

# ============================================
# 日志配置
# ============================================

# 日志级别 (Trace/Debug/Information/Warning/Error/Critical)
LOG_LEVEL=Information

# ============================================
# 容器资源配置
# ============================================

# 内存限制（单位：M表示MB，G表示GB）
CONTAINER_MEMORY_LIMIT=512M
CONTAINER_MEMORY_RESERVATION=256M

# CPU限制（0.5表示0.5个CPU核心）
CONTAINER_CPU_LIMIT=0.5
CONTAINER_CPU_RESERVATION=0.25

# ============================================
# 高级配置（可选）
# ============================================

# 是否启用详细错误信息（生产环境建议设为false）
ENABLE_DETAILED_ERRORS=false

# 是否启用敏感数据日志（生产环境建议设为false）
ENABLE_SENSITIVE_DATA_LOGGING=false

# 配置加密密钥（32位随机字符串，如果使用配置加密功能）
# CONFIG_ENCRYPTION_KEY=your_32_character_encryption_key_here
