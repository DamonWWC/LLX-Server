# Cursor Rules 生成说明

## 概述

为 LLX.Server 项目生成了一套完整的 Cursor Rules，用于指导 AI 助手更好地理解和操作代码库。这些规则基于项目的实际架构、代码风格和最佳实践。

## 生成的规则文件

### 1. 项目结构规则 (project-structure.mdc)
- **类型**: 始终应用 (alwaysApply: true)
- **作用**: 提供项目整体架构和文件组织说明
- **内容**:
  - 项目概述和技术栈
  - 核心架构和分层结构
  - 主要文件说明和引用
  - 架构原则和技术选型

### 2. 编码规范规则 (coding-standards.mdc)
- **类型**: 文件类型匹配 (globs: *.cs)
- **作用**: C# 编码规范和最佳实践
- **内容**:
  - 命名规范和代码组织
  - 异步编程模式
  - 异常处理策略
  - 性能优化技巧
  - 日志记录规范

### 3. EF Core 模式规则 (ef-core-patterns.mdc)
- **类型**: 文件类型匹配 (globs: *Repository.cs,*Service.cs)
- **作用**: EF Core 数据访问模式和最佳实践
- **内容**:
  - ExecuteUpdate 使用模式 (EF Core 8.0+)
  - 查询优化和性能提升
  - 事务处理和批量操作
  - 缓存集成模式
  - 常见陷阱和解决方案

### 4. API 设计规则 (api-design.mdc)
- **类型**: 文件类型匹配 (globs: *Endpoints.cs)
- **作用**: Minimal API 设计模式和最佳实践
- **内容**:
  - RESTful 路由设计
  - 请求和响应格式
  - 错误处理模式
  - 文档和元数据
  - 性能和安全考虑

### 5. 缓存策略规则 (caching-strategy.mdc)
- **类型**: 文件类型匹配 (globs: *Service.cs,*CacheService.cs)
- **作用**: 缓存策略和 Redis 集成最佳实践
- **内容**:
  - 缓存架构和键策略
  - 缓存模式和失效策略
  - 性能优化和监控
  - 异常处理和降级
  - 配置管理

### 6. 部署 Docker 规则 (deployment-docker.mdc)
- **类型**: 文件类型匹配 (globs: Dockerfile,docker-compose.yml,*.sh,*.ps1)
- **作用**: Docker 部署和容器化最佳实践
- **内容**:
  - Dockerfile 优化和安全
  - Docker Compose 配置
  - 环境变量管理
  - 部署脚本和自动化
  - 监控和日志

### 7. 测试模式规则 (testing-patterns.mdc)
- **类型**: 文件类型匹配 (globs: *Test*.cs,*Tests.cs)
- **作用**: 测试模式和最佳实践
- **内容**:
  - 单元测试和集成测试
  - 测试架构和组织
  - 性能测试和负载测试
  - 测试工具和辅助类
  - 测试配置和环境

### 8. 安全实践规则 (security-practices.mdc)
- **类型**: 文件类型匹配 (globs: *Middleware.cs,*Service.cs,appsettings*.json)
- **作用**: 安全最佳实践和配置
- **内容**:
  - 身份验证和授权
  - 输入验证和数据加密
  - 安全配置和头设置
  - 日志安全和敏感信息保护
  - 数据库安全和网络安全

### 9. 总览规则 (README.mdc)
- **类型**: 始终应用 (alwaysApply: true)
- **作用**: 规则文件总览和使用指南
- **内容**:
  - 所有规则文件说明
  - 使用指南和最佳实践
  - 项目特色和技术栈
  - 快速开始指南
  - 规则维护说明

## 规则特点

### 1. 基于实际项目
- 所有规则都基于 LLX.Server 项目的实际代码和架构
- 包含具体的文件引用和代码示例
- 反映项目的真实需求和约束

### 2. 技术栈针对性
- 针对 .NET 8.0 和 EF Core 8.0 的新特性
- 充分利用 ExecuteUpdate 等性能优化特性
- 集成 Redis 缓存和 Docker 部署

### 3. 最佳实践导向
- 包含安全、性能、可维护性的最佳实践
- 提供具体的代码示例和配置
- 涵盖从开发到部署的完整流程

### 4. 智能匹配
- 使用 globs 模式自动匹配相关文件
- 根据文件类型提供针对性的指导
- 始终应用的核心规则提供项目上下文

## 使用效果

### 1. 代码一致性
- 统一的编码风格和命名规范
- 一致的架构模式和设计原则
- 标准化的错误处理和日志记录

### 2. 开发效率
- 快速了解项目结构和架构
- 减少重复性的代码编写
- 自动化的最佳实践应用

### 3. 代码质量
- 安全优先的开发模式
- 性能优化的数据访问
- 完整的测试覆盖策略

### 4. 维护性
- 清晰的文档和注释
- 标准化的配置管理
- 可扩展的架构设计

## 规则维护

### 更新策略
1. **定期审查**: 每季度审查规则的有效性
2. **版本同步**: 与技术栈版本更新保持同步
3. **反馈收集**: 收集开发团队的使用反馈
4. **持续改进**: 根据项目发展调整规则内容

### 扩展计划
1. **新功能规则**: 随着新功能开发添加相应规则
2. **工具集成**: 集成更多开发工具和流程
3. **团队培训**: 提供规则使用培训
4. **自动化检查**: 开发规则合规性检查工具

## 总结

这套 Cursor Rules 为 LLX.Server 项目提供了全面的开发指导，涵盖了从代码编写到部署上线的完整流程。通过智能匹配和自动应用，能够显著提高开发效率和代码质量，确保项目的一致性和可维护性。

**生成时间**: 2024年10月24日  
**规则数量**: 9个  
**覆盖范围**: 项目全生命周期  
**技术栈**: .NET 8.0, EF Core 8.0, Redis, Docker, Minimal API
